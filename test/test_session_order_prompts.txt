# セッションIDの順序と復活整合性確認用プロンプト

## 基本情報の入力（順番に実行）

### 1. 初回会話
execute_claude:
私は太郎です。好きな色は青です。

get_current_session:
（セッションID_1を記録）

### 2. 2回目の会話（オーバーラン）
execute_claude:
好きな食べ物はラーメンです。

get_current_session:
（セッションID_2を記録）

### 3. 3回目の会話（オーバーラン）
execute_claude:
趣味は読書です。

get_current_session:
（セッションID_3を記録）

### 4. 4回目の会話（オーバーラン）
execute_claude:
実は秘密ですが、宝くじで100万円当たりました。

get_current_session:
（セッションID_4を記録）

### 5. 5回目の会話（オーバーラン）
execute_claude:
将来の夢は宇宙飛行士になることです。

get_current_session:
（セッションID_5を記録）

## 復活テスト

### セッションID_2に戻る（ラーメンまで知っている）
reset_session:

set_current_session:
（セッションID_2を設定）

execute_claude:
私の名前、好きな色、好きな食べ物を教えて

execute_claude:
私の趣味は何でしたっけ？

execute_claude:
私が秘密と言っていたことは何でしたっけ？

### セッションID_4に戻る（宝くじまで知っている）
reset_session:

set_current_session:
（セッションID_4を設定）

execute_claude:
これまでに話した内容をすべて教えて

execute_claude:
私の将来の夢について話しましたっけ？

### セッションID_1に戻る（青色だけ知っている）
reset_session:

set_current_session:
（セッションID_1を設定）

execute_claude:
私について知っていることをすべて教えて

### セッションID_5に戻る（すべて知っている）
reset_session:

set_current_session:
（セッションID_5を設定）

execute_claude:
私の名前、好きな色、食べ物、趣味、秘密、将来の夢をまとめて

## 期待される結果

1. **セッションID_2での復活**:
   - ✅ 知っている: 太郎、青色、ラーメン
   - ❌ 知らない: 読書、宝くじ、宇宙飛行士

2. **セッションID_4での復活**:
   - ✅ 知っている: 太郎、青色、ラーメン、読書、宝くじ
   - ❌ 知らない: 宇宙飛行士

3. **セッションID_1での復活**:
   - ✅ 知っている: 太郎、青色
   - ❌ 知らない: ラーメン、読書、宝くじ、宇宙飛行士

4. **セッションID_5での復活**:
   - ✅ 知っている: すべての情報

## 確認ポイント

- セッションIDは会話の「タイムスタンプ」として機能
- 過去のセッションIDに戻ると、その時点までの記憶のみ保持
- 未来の会話内容は知らない（時系列の整合性）
- オーバーランしても各時点のスナップショットは保存される