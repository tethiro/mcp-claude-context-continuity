{
  "test_name": "set_current_session機能テスト",
  "description": "セッションの切り替えによる会話コンテキストの保持を確認",
  "steps": [
    {
      "step": 1,
      "description": "会話セッション1開始",
      "tool": "execute_claude",
      "params": {
        "prompt": "私は太郎です。富士山について教えてください"
      }
    },
    {
      "step": 2,
      "description": "会話セッション1継続",
      "tool": "execute_claude",
      "params": {
        "prompt": "私の名前を覚えていますか？また、先ほど話した山の高さは？"
      }
    },
    {
      "step": 3,
      "description": "セッション1のID取得",
      "tool": "get_current_session",
      "params": {},
      "note": "このsession_idを「session1_id」として記録"
    },
    {
      "step": 4,
      "description": "セッションリセット",
      "tool": "reset_session",
      "params": {}
    },
    {
      "step": 5,
      "description": "会話セッション2開始",
      "tool": "execute_claude",
      "params": {
        "prompt": "私は花子です。桜について教えてください"
      }
    },
    {
      "step": 6,
      "description": "会話セッション2継続",
      "tool": "execute_claude",
      "params": {
        "prompt": "私の名前を覚えていますか？また、先ほど話した花の特徴は？"
      }
    },
    {
      "step": 7,
      "description": "セッション2のID取得",
      "tool": "get_current_session",
      "params": {},
      "note": "このsession_idを「session2_id」として記録"
    },
    {
      "step": 8,
      "description": "セッション1復活",
      "tool": "set_current_session",
      "params": {
        "session_id": "{{session1_id}}"
      },
      "note": "step3で取得したsession1_idを使用"
    },
    {
      "step": 9,
      "description": "セッション1の記憶確認",
      "tool": "execute_claude",
      "params": {
        "prompt": "私の名前と、最初に話した山についてもう一度教えてください"
      },
      "expected": "太郎という名前と富士山の話を記憶している"
    },
    {
      "step": 10,
      "description": "セッション2復活",
      "tool": "set_current_session",
      "params": {
        "session_id": "{{session2_id}}"
      },
      "note": "step7で取得したsession2_idを使用"
    },
    {
      "step": 11,
      "description": "セッション2の記憶確認",
      "tool": "execute_claude",
      "params": {
        "prompt": "私の名前と、最初に話した花についてもう一度教えてください"
      },
      "expected": "花子という名前と桜の話を記憶している"
    }
  ]
}