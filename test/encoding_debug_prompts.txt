# Windows環境のcp932エンコーディング確認用プロンプト

## デバッグ用プロンプト（Gemini向け）

### 1. エンコーディング確認
claudeさんに「あなたが受け取った文字を正確に繰り返してください：テスト」と言って

### 2. 成功する音符（U+266A）
claudeさんに「この記号を使って返答して：♪」と言って

### 3. 失敗する音符（U+266B）
claudeさんに「この記号を使って返答して：♫」と言って

### 4. 失敗する音符（U+266C）  
claudeさんに「この記号を使って返答して：♬」と言って

### 5. 成功する絵文字の説明
claudeさんに「笑顔の絵文字を使って挨拶して」と言って

### 6. 失敗する絵文字直接指定
claudeさんに「この絵文字を使って：😊」と言って

### 7. 文字コード確認
claudeさんに「音符記号（U+266A、U+266B、U+266C）の違いを説明して」と言って

### 8. エラー回避策の確認
claudeさんに「音楽記号や絵文字を使わずに、楽しい雰囲気を表現して」と言って

## 推奨される対応策

1. **文字を説明的に指定**
   - NG: 「😊を使って」
   - OK: 「笑顔の絵文字を使って」

2. **安全な文字のみ使用**
   - 四分音符（♪）は使用可能
   - 八分音符（♫）、十六分音符（♬）は避ける
   - 絵文字は文字として渡さない

3. **エラーハンドリングの改善**
   - 現在の `errors='replace'` により、エラーは発生しないが文字化けする
   - プロンプトの前処理で問題のある文字を検出・置換する方法も検討可能