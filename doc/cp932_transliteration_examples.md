# CP932 文字翻字（Transliteration）の実装例

## 概要

Windows環境でcp932エンコーディングできない文字を、意味を保つ形で置換する機能を実装しました。

## 翻字の例

### 数学・科学記号

| 元の文字 | 翻字後 | 説明 |
|---------|--------|------|
| E=mc² | E=mc2 | 上付き数字を通常の数字に |
| x³+y³=z³ | x3+y3=z3 | フェルマーの最終定理も読みやすく |
| √2 | sqrt2 | 平方根記号を関数名に |
| π ≈ 3.14 | pi ~= 3.14 | ギリシャ文字と約等号 |
| ∞ | inf | 無限大記号 |

### 数学的不等式

| 元の文字 | 翻字後 | 説明 |
|---------|--------|------|
| A ≤ B | A <= B | 以下 |
| C ≥ D | C >= D | 以上 |
| X ≠ Y | X != Y | 等しくない |

### ギリシャ文字

| 元の文字 | 翻字後 | 説明 |
|---------|--------|------|
| α粒子 | alpha粒子 | アルファ粒子 |
| β線 | beta線 | ベータ線 |
| γ線 | gamma線 | ガンマ線 |
| Δt | Deltat | 時間変化 |
| Σ(1→n) | Sigma(1->n) | 総和記号 |

### 集合論記号

| 元の文字 | 翻字後 | 説明 |
|---------|--------|------|
| x ∈ S | x in S | 要素の所属 |
| y ∉ S | y not in S | 要素の非所属 |
| A ⊂ B | A subset B | 部分集合 |
| A ∩ B | A cap B | 積集合 |
| A ∪ B | A cup B | 和集合 |

### その他の記号

| 元の文字 | 翻字後 | 説明 |
|---------|--------|------|
| 25°C | 25degC | 度記号 |
| A→B | A->B | 矢印 |
| ♪♫ | notenotes | 音符記号 |
| €100 | EUR100 | 通貨記号 |

## 実装の利点

1. **意味の保持**: `?`への置換と異なり、元の意味が推測可能
2. **可読性**: AIは文脈から正しい意味を理解できる
3. **拡張性**: 新しい記号は辞書に追加するだけで対応可能

## 技術詳細

- カスタムマッピングテーブルによる優先的な置換
- Unicode正規化（NFKC）による互換文字の変換
- 未対応文字のフォールバック（`?`への置換）

これにより、Windows環境でも科学的・数学的な議論が可能になりました。